import cv2
from djitellopy import Tello

tello = Tello()

tello.connect()
print(tello.query_battery())

movements = [
    [40, 60, "1"],
    [93, 95, "2"],
    [190, 130, "3"],
    [117, 0, "4"],
    [127, 160, "5"],
    [97.5, 0, False]
]

tello.streamon()
frame_read = tello.get_frame_read()

tello.takeoff()

for movement in movements:
    tello.move_forward(movement[0])
    tello.rotate_clockwise(movement[1])
    if movement[2] is not False:
        cv2.imwrite(movement[2]+".png", frame_read.frame)

tello.land()
